import{Eb as s,Fb as g,Ib as q,Na as l,Oa as d,R as h,Ta as u,V as y,ca as c,db as m,kb as f,ob as r,pb as o,vb as p}from"./chunk-GXONRGKZ.js";var C=(()=>{let i=class i{constructor(){this.itens=[],this.priceTotal=0,this.getCart()}getCart(){return localStorage.getItem("cart")&&(this.itens=JSON.parse(localStorage.getItem("cart")??"")),this.updatedPriceTotal(),this.itens}setProductCart(t){let e=-1;for(let a in this.itens)this.itens[a].id===t.id&&(e=parseInt(a));e>-1?this.itens[e].quantityProducts+=1:this.itens.push(t),localStorage.setItem("cart",JSON.stringify(this.itens))}getQuantityProducts(t){return this.itens.find(a=>a.id===t)?.quantityProducts||1}setQuantityProductsById(t,e){for(let a in this.itens)this.itens[a].id===t&&(this.itens[a].quantityProducts=e);this.updatedPriceTotal(),localStorage.setItem("cart",JSON.stringify(this.itens))}updatedPriceTotal(){let t=0;for(let e of this.itens)t+=e.price*e.quantityProducts;this.setPriceTotal(t),document.getElementById("bagPriceTotal").innerHTML="R$"+this.priceTotal.toFixed(2)}setPriceTotal(t){this.priceTotal=t}getPriceTotal(){return Number(this.priceTotal.toFixed(2))}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=c({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var P=(()=>{let i=class i{constructor(){this.itens=[],this.quantityInCart=1,this.updatedQuantityInCart()}updatedQuantityInCart(){this.itens=JSON.parse(localStorage.getItem("cart")??"");let t=0;this.itens.map(e=>{t+=e.quantityProducts}),this.setTotalInCart(t),document.getElementById("quantityInBag").innerHTML=`${this.quantityInCart}`}setTotalInCart(t){this.quantityInCart=t}getTotalInCart(){return this.quantityInCart}clearCart(){this.itens=[],localStorage.clear()}deleteProductInCart(t){this.itens=JSON.parse(localStorage.getItem("cart")??""),this.itens=this.itens.filter(e=>e.id!==t),localStorage.setItem("cart",JSON.stringify(this.itens)),this.updatedQuantityInCart()}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=c({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();function v(n,i){n&1&&(r(0,"span",5),s(1,"Quantidade"),o())}var M=(()=>{let i=class i{constructor(t,e){this.productCartService=t,this.quantityCartService=e,this.id=u(0),this.isShowText=u(!1),this.quantity=u(1),this.quantityOuput=new h}ngOnInit(){this.quantity.set(this.getQuantity(this.id()))}set inputId(t){this.id.set(t)}set inputShowText(t){this.isShowText.set(t)}onHandleIncrease(){this.quantity.update(t=>++t),this.quantityOuput.emit(this.quantity())}onHandleDecrease(){this.quantity()>1&&(this.quantity.update(t=>--t),this.quantityOuput.emit(this.quantity()))}getQuantity(t){return this.productCartService.getQuantityProducts(t)}};i.\u0275fac=function(e){return new(e||i)(d(C),d(P))},i.\u0275cmp=y({type:i,selectors:[["app-product-quantity"]],inputs:{inputId:"inputId",inputShowText:"inputShowText"},outputs:{quantityOuput:"quantityOuput"},standalone:!0,features:[q],decls:9,vars:2,consts:[[1,"quantity__container"],["class","quantity-text"],[1,"quantity__content"],["type","button",1,"btn-quantity",3,"click"],[1,"current-quantity"],[1,"quantity-text"]],template:function(e,a){e&1&&(r(0,"div",0),m(1,v,2,0,"span",1),r(2,"div",2)(3,"button",3),p("click",function(){return a.onHandleDecrease()}),s(4,"-"),o(),r(5,"span",4),s(6),o(),r(7,"button",3),p("click",function(){return a.onHandleIncrease()}),s(8,"+"),o()()()),e&2&&(l(),f(1,a.isShowText()?1:-1),l(5),g(a.quantity()))},styles:[".quantity__container[_ngcontent-%COMP%], .quantity__content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.quantity__container[_ngcontent-%COMP%]{flex-direction:column}.quantity-text[_ngcontent-%COMP%]{text-align:left;width:100%;display:inline;font-size:.75rem;color:var(--secondary-color)}.quantity__content[_ngcontent-%COMP%]{width:100%}.btn-quantity[_ngcontent-%COMP%]{width:2rem;outline:none;cursor:pointer;font-size:1.5rem}.btn-quantity[_ngcontent-%COMP%]:active{background-color:var(--secondary-color);color:var(--primary-color)}.current-quantity[_ngcontent-%COMP%]{width:3rem;display:flex;justify-content:center;align-items:center;color:var(--hight-color);font-weight:500}.btn-quantity[_ngcontent-%COMP%], .current-quantity[_ngcontent-%COMP%]{height:2rem;border:1px solid var(--low-color);background-color:transparent}"]});let n=i;return n})();export{C as a,P as b,M as c};
